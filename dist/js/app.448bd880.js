(function(e){function t(t){for(var a,s,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0393":function(e,t,r){"use strict";r("9e4d")},3831:function(e,t,r){var a=r("7053").default;function n(e,t,r){var i=t[e.id]||[];e.title="round "+r;for(var s=0;s<i.length;s++){var o=i[s],l=a(a({},o),{},{title:"round ".concat([r]),hasParent:!0,games:[]});n(l,t,r-1),e.games.push(l)}return e}r("d81d"),r("159b"),r("b64b"),e.exports={transform:function(e){if(!e)return null;for(var t=e.length,r=[],n=[],i=function(t){if(r=e[t].games.map((function(r){return a(a({},r),{},{title:"round "+t,games:[],hasParent:!!e[t+1]})})),0===n.length)return n=r,"continue";for(var i=0;i<n.length;i++){var s=Math.floor(i/2);r[s].games.push(n[i])}n=r},s=0;s<t;s++)i(s);return r[0]||null},transformFlatTree:function(e){var t={},r=null;e.forEach((function(e){e.next||r?(t[e.next]||(t[e.next]=[]),t[e.next].push(e)):r=e}));var i=a(a({},r),{},{title:"round",games:[],hasParent:!1});return n(i,t,Object.keys(t).length)}}},"4d32":function(e,t,r){},5566:function(e,t,r){e.exports=r.p+"img/wtm.42332eec.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("vue-snotify"),r("Navigation"),r("AppBar"),r("v-main",[r("router-view")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$store.state.authUser.isAuthenticated?r("v-navigation-drawer",{attrs:{app:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-avatar",[r("v-icon",{attrs:{large:""}},[e._v(" mdi-account-circle ")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(" "+e._s(e.$store.state.authUser.name)+" ")]),r("v-list-item-subtitle",[e._v(" Logged In ")])],1)],1)]},proxy:!0}],null,!1,3754172064),model:{value:e.$store.state.navigationDrawer,callback:function(t){e.$set(e.$store.state,"navigationDrawer",t)},expression:"$store.state.navigationDrawer"}},[r("v-divider"),r("v-list",{attrs:{dense:""}},e._l(e.items,(function(t){return r("v-list-item",{key:t.title},[r("v-list-item-icon",["Notifications"==t.title&&e.$store.state.nbrNotif>0?r("v-badge",{attrs:{overlap:"",color:"red",content:e.$store.state.nbrNotif}},[r("v-icon",[e._v(e._s(t.icon))])],1):r("v-icon",[e._v(e._s(t.icon))])],1),r("router-link",{staticStyle:{"text-decoration":"none",color:"gray"},attrs:{to:t.path}},[r("v-list-item-content",[r("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)],1)],1)})),1),r("v-divider"),r("v-btn",{staticStyle:{"margin-top":"10px"},attrs:{color:"#01002a",block:"",tile:"",dark:""},on:{click:e.Logout}},[e._v(" Logout ")])],1):e._e()},o=[],l={data:function(){return{items:[{title:"Home",icon:"mdi-home",path:"/"},{title:"Administration",icon:"mdi-database-search",path:"/administration"},{title:"Team",icon:"mdi-account-multiple",path:"/team"},{title:"Notifications",icon:"mdi-bell",path:"/notifications"},{title:"About",icon:"mdi-help-circle",path:"/about"}]}},methods:{Logout:function(){this.$store.commit("logout"),this.$router.push("/")}}},c=l,u=r("2877"),d=r("6544"),m=r.n(d),v=r("4ca6"),p=r("8336"),f=r("ce7e"),h=r("132d"),g=r("8860"),b=r("da13"),x=r("8270"),w=r("5d23"),y=r("34c3"),k=r("f774"),V=Object(u["a"])(c,s,o,!1,null,null,null),T=V.exports;m()(V,{VBadge:v["a"],VBtn:p["a"],VDivider:f["a"],VIcon:h["a"],VList:g["a"],VListItem:b["a"],VListItemAvatar:x["a"],VListItemContent:w["a"],VListItemIcon:y["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VNavigationDrawer:k["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LoginDialog",{ref:"loginDialog"}),a("v-app-bar",{attrs:{app:"",color:"#01002a",dark:""}},[e.$store.state.authUser.isAuthenticated?a("v-app-bar-nav-icon",{on:{click:function(t){return e.$store.commit("setNavigationDrawer")}}}):e._e(),a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{alt:"WTM Logo",src:r("5566"),width:"auto",height:"50"}})]),a("v-spacer"),e.$store.state.authUser.isAuthenticated?a("v-btn",{attrs:{tile:"",text:""}},[a("span",{staticClass:"mr-2"},[e._v(" "+e._s(e.$store.state.authUser.name)+" ")]),a("v-icon",[e._v("mdi-account")])],1):a("v-btn",{attrs:{tile:"",text:""},on:{click:e.Login}},[a("span",{staticClass:"mr-2"},[e._v("Sign in")]),a("v-icon",[e._v("mdi-account")])],1)],1)],1)},$=[],S=r("1da1"),C=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login(t)}],"click:outside":e.hide},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[r("v-toolbar-title",[e._v("Sign in")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{padding:"10px"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Username",dense:"",outlined:"",clearable:"","data-vv-name":"username","error-messages":e.errors.collect("username")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{"append-icon":e.showPwd?"mdi-eye":"mdi-eye-off",label:"Password",outlined:"",dense:"",type:e.showPwd?"text":"password",clearable:"","data-vv-name":"password","error-messages":e.errors.collect("password")},on:{"click:append":function(t){e.showPwd=!e.showPwd}},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}}),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{dismissible:"",outlined:"",type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" An error occured... Please try later! ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("router-link",{attrs:{to:"/register"},nativeOn:{click:function(t){return e.hide(t)}}},[e._v("Sign up for free !")]),r("v-spacer"),r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.Login}},[e._v("Sign in")])],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)}),R=[],N=(r("b0c0"),r("d3b7"),r("4de4"),r("bc3a")),U=r.n(N),D={Request:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(n){U()({method:e,url:t,data:r,headers:a}).then((function(e){n({isSuccess:!0,result:e.data})})).catch((function(e){n({isSuccess:!1,result:e})}))}))},GetNotifications:function(e,t){return new Promise((function(r){U()({method:"get",url:e,headers:t}).then((function(e){var t=e.data.filter((function(e){return 0==e.seen})).length;r({isSuccess:!0,result:e.data,counter:t})})).catch((function(e){r({isSuccess:!1,result:e})}))}))}},P={data:function(){return{isVisible:!1,loading:!1,error:!1,showPwd:!1,id:null,username:"",pwd:""}},methods:{show:function(){this.isVisible=!0},hide:function(){this.error=!1,this.$refs.form.reset(),this.isVisible=!1},Login:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r){t.next=11;break}return e.loading=!0,a={username:e.username,password:e.pwd},t.next=8,D.Request("post",e.$store.state.apiUrl+"auth/",a);case 8:n=t.sent,n.isSuccess?(e.$store.commit("setToken",n.result.token),e.$store.commit("setAuthUser",{authUserId:n.result.user_id,authUserEmail:n.result.email,authUserName:n.result.name,isAuthenticated:!0}),e.$refs.form.reset(),e.$snotify.info(a.username+" logged in successfuly!"),e.GetNotifications(),e.isVisible=!1):(e.$snotify.error("Unable to login...\nPlease try later..."),e.error=!0),e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},GetNotifications:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.GetNotifications(e.$store.state.apiUrl+"notifications?uid="+e.$store.state.authUser.id,e.$store.getters.getAxiosHeader);case 3:r=t.sent,r.isSuccess?e.$store.commit("updateNotif",r.counter):e.$snotify.error("Unable to get notifications ..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},I=P,O=r("0798"),A=r("b0af"),j=r("99d9"),L=r("169a"),q=r("4bd4"),E=r("490a"),M=r("2fa4"),G=r("8654"),B=r("71d9"),H=r("2a7f"),F=Object(u["a"])(I,C,R,!1,null,null,null),z=F.exports;m()(F,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:L["a"],VForm:q["a"],VIcon:h["a"],VProgressCircular:E["a"],VSpacer:M["a"],VTextField:G["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var J={components:{LoginDialog:z},methods:{Login:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginDialog.show();case 1:case"end":return t.stop()}}),t)})))()}}},Y=J,W=r("40dc"),K=r("5bc1"),Q=Object(u["a"])(Y,_,$,!1,null,null,null),X=Q.exports;m()(Q,{VAppBar:W["a"],VAppBarNavIcon:K["a"],VBtn:p["a"],VIcon:h["a"],VSpacer:M["a"]});var Z={name:"App",metaInfo:{title:"Home",titleTemplate:"%s - WTM",htmlAttrs:{lang:"en",amp:!0}},components:{Navigation:T,AppBar:X}},ee=Z,te=(r("034f"),r("7496")),re=r("f6c4"),ae=Object(u["a"])(ee,n,i,!1,null,null,null),ne=ae.exports;m()(ae,{VApp:te["a"],VMain:re["a"]});var ie=r("8c4f"),se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticStyle:{"margin-top":"30px"}},[r("TournamentDialog",{ref:"tournamentDialog"}),r("v-row",[r("v-col",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.authUser.isAuthenticated,expression:"$store.state.authUser.isAuthenticated"}],attrs:{cols:"12",sm:"6",md:"4"}},[r("v-card",{staticStyle:{padding:"10px"},attrs:{tile:""},on:{click:e.OpenTournamentDialog}},[r("v-card-title"),r("v-card-text",{staticClass:"text-center"},[r("v-icon",{attrs:{large:""}},[e._v("mdi-plus")])],1),r("v-card-actions")],1)],1),e._l(e.tournaments,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"6",md:"4"}},[r("v-card",{staticStyle:{padding:"10px"},attrs:{tile:""}},[r("iframe",{attrs:{width:"100%",height:"auto",src:t.streamURL,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),r("v-card-title",{staticStyle:{color:"#01002a"}},[e._v(" "+e._s(t.name)+" ")]),r("v-card-text",{staticClass:"text-sm-left",staticStyle:{color:"#01002a"}},[e._v(" "+e._s(t.gameName)+" ")]),r("v-card-actions",[t.isDeadLineOver?r("v-btn",{attrs:{tile:"",block:"",outlined:"",color:"#01002a"},on:{click:function(r){return e.$router.push("/tournament/"+t.id)}}},[e._v(" See results ")]):t.isParticipating&&!t.isDeadLineOver||!t.isParticipating&&!t.isDeadLineOver&&!t.isLeader?r("v-btn",{attrs:{tile:"",block:"",outlined:""},on:{click:function(r){return e.OpenTournamentDialog(t.id,t.isParticipating,t.isLeader)}}},[e._v(" More information ")]):t.isParticipating||t.isDeadLineOver||!t.isLeader?e._e():r("v-btn",{attrs:{tile:"",block:"",outlined:""},on:{click:function(r){return e.OpenTournamentDialog(t.id,t.isParticipating,t.isLeader)}}},[e._v(" Register your team ")])],1)],1)],1)}))],2)],1)},oe=[],le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.CreateTournament(t)}],"click:outside":e.hide},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[e.isDisabled?!e.isLeader||e.isParticipating?r("v-toolbar-title",[e._v(" Tournament information ")]):r("v-toolbar-title",[e._v("Register for this tournament")]):r("v-toolbar-title",[e._v(" Create a tournament ")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{padding:"10px"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.isDisabled,label:"Name",dense:"",outlined:"",clearable:"","data-vv-name":"name","error-messages":e.errors.collect("name")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.isDisabled,label:"Game",dense:"",outlined:"",clearable:"","data-vv-name":"game","error-messages":e.errors.collect("game")},model:{value:e.game,callback:function(t){e.game=t},expression:"game"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{disabled:e.isDisabled,label:"Round duration (in minutes)",dense:"",outlined:"",clearable:"","data-vv-name":"duration","error-messages":e.errors.collect("duration")},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{disabled:e.isDisabled,label:"Pause between two round (in minutes)",dense:"",outlined:"",clearable:"","data-vv-name":"pause","error-messages":e.errors.collect("pause")},model:{value:e.pause,callback:function(t){e.pause=t},expression:"pause"}}),r("v-menu",{ref:"menu",attrs:{disabled:e.isDisabled,"close-on-content-click":!1,"return-value":e.limitDate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.limitDate=t},"update:return-value":function(t){e.limitDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-combobox",e._g(e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.isDisabled,chips:"","small-chips":"","prepend-inner-icon":"mdi-calendar",readonly:"",label:"Limit date for registration",dense:"",outlined:"",clearable:"","data-vv-name":"limit date","error-messages":e.errors.collect("limit date")},model:{value:e.limitDate,callback:function(t){e.limitDate=t},expression:"limitDate"}},"v-combobox",n,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:(new Date).toISOString().slice(0,10)},model:{value:e.limitDate,callback:function(t){e.limitDate=t},expression:"limitDate"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"#01002a"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),r("v-btn",{attrs:{text:"",color:"#01002a"},on:{click:function(t){return e.$refs.menu.save(e.limitDate)}}},[e._v(" OK ")])],1)],1),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:4|max_value:16",expression:"'required|numeric|min_value:4|max_value:16'"}],attrs:{disabled:e.isDisabled,label:"Number of teams",dense:"",outlined:"",clearable:"",hint:"Must be between 4 and 16","data-vv-name":"number of teams","error-messages":e.errors.collect("number of teams")},model:{value:e.nbrTeams,callback:function(t){e.nbrTeams=t},expression:"nbrTeams"}}),e.isDisabled?e._e():r("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.users,"item-text":"username","item-value":"id",chips:"",label:"Referees",multiple:"",outlined:"","data-vv-name":"referees","error-messages":e.errors.collect("referees")},model:{value:e.referees,callback:function(t){e.referees=t},expression:"referees"}}),e.isDisabled?e._e():r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Stream URL",dense:"",outlined:"",clearable:"","data-vv-name":"stream URL","error-messages":e.errors.collect("stream URL")},model:{value:e.streamUrl,callback:function(t){e.streamUrl=t},expression:"streamUrl"}}),e.isDisabled&&e.isLeader&&!e.isParticipating?r("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.teams,"item-text":"name","item-value":"id",label:"Team to register",dense:"",outlined:"",clearable:"","data-vv-name":"team to register","error-messages":e.errors.collect("team to register")},model:{value:e.registeredTeam,callback:function(t){e.registeredTeam=t},expression:"registeredTeam"}}):e._e(),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{dismissible:"",outlined:"",type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" An error occured... Please try later! ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-spacer"),e.isDisabled?e.isDisabled&&e.isLeader&&!e.isParticipating?r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.AddTeam}},[e._v(" Participate "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1):e._e():r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.CreateTournament}},[e._v(" Save "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},ce=[],ue={data:function(){return{isVisible:!1,parent:void 0,loading:!1,error:!1,menu:!1,disabledDates:{to:new Date(Date.now()-864e4)},users:[],id:null,name:null,game:null,duration:null,pause:null,limitDate:null,nbrTeams:null,referees:null,streamUrl:null,idTournament:-1,isDisabled:!1,registeredTeam:null,isLeader:!1,isParticipating:!1,teams:[]}},methods:{show:function(e){this.parent=e,-1!==this.idTournament?(this.DisplayTournament(),this.GetTeamsByLeader()):this.isDisabled=!1,this.isVisible=!0,this.GetUsers()},hide:function(){this.error=!1,this.$refs.form.reset(),this.isVisible=!1,this.idTournament=-1,this.streamUrl=null},GetUsers:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.Request("get",e.$store.state.apiUrl+"users/",null,e.$store.getters.getAxiosHeader);case 2:r=t.sent,r.isSuccess?e.users=r.result:e.$snotify.error("Unable to get users...");case 4:case"end":return t.stop()}}),t)})))()},CreateTournament:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r){t.next=11;break}return e.loading=!0,a={name:e.name,gameName:e.game,matchDuration:e.duration,breakDuration:e.pause,deadLineDate:e.limitDate,nbTeam:e.nbrTeams,streamURL:e.streamUrl,organizer:e.$store.state.authUser.name,referees:e.referees},t.next=8,D.Request("post",e.$store.state.apiUrl+"tournaments/",a,e.$store.getters.getAxiosHeader);case 8:n=t.sent,n.isSuccess?(e.$refs.form.reset(),e.$snotify.success(a.name+" created successfuly!"),e.isVisible=!1,e.parent.GetTournaments()):(e.$snotify.error("Unable to save this team...\nPlease try later..."),e.error=!0),e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},DisplayTournament:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isDisabled=!0,e.loading=!0,t.next=4,D.Request("get",e.$store.state.apiUrl+"tournaments/"+e.idTournament,null,e.$store.getters.getAxiosConfig);case 4:r=t.sent,r.isSuccess?(a=r.result,e.id=a.id,e.name=a.name,e.game=a.gameName,e.duration=a.matchDuration,e.pause=a.breakDuration,e.limitDate=a.deadLineDate,e.nbrTeams=a.nbTeam,e.streamUrl=a.streamURL):(e.$snotify.error("Unable to get tournament information...\nPlease try later..."),e.error=!0),e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},GetTeamsByLeader:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"teams/"+e.$store.state.authUser.id+"/getteamsbyleader");case 3:r=t.sent,r.isSuccess?e.teams=r.result:e.$snotify.error("Unable to get teams..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},AddTeam:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r={teamid:e.registeredTeam},t.next=4,D.Request("post",e.$store.state.apiUrl+"tournaments/"+e.idTournament+"/addTeam/",r,e.$store.getters.getAxiosConfig);case 4:a=t.sent,a.isSuccess?(n=a.result,e.parent.GetTournaments(),e.$snotify.success("Team "+n.name+" registered successfully to this tournament !")):e.$snotify.error("Unable to register the team to this tournament..."),e.isVisible=!1,e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},de=ue,me=r("2b5d"),ve=r("2e4b"),pe=r("e449"),fe=r("b974"),he=Object(u["a"])(de,le,ce,!1,null,null,null),ge=he.exports;m()(he,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCombobox:me["a"],VDatePicker:ve["a"],VDialog:L["a"],VForm:q["a"],VIcon:h["a"],VMenu:pe["a"],VProgressCircular:E["a"],VSelect:fe["a"],VSpacer:M["a"],VTextField:G["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var be={name:"Home",components:{TournamentDialog:ge},metaInfo:{title:"Home"},data:function(){return{loading:!1,error:!1,showPwd:!1,tournaments:[]}},mounted:function(){this.GetTournaments()},methods:{OpenTournamentDialog:function(){var e=arguments,t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.length>0&&void 0!==e[0]?e[0]:-1,n=e.length>1&&void 0!==e[1]&&e[1],i=e.length>2&&void 0!==e[2]&&e[2],-1!==a&&"number"==typeof a&&(t.$refs.tournamentDialog.idTournament=a,t.$refs.tournamentDialog.isLeader=i,t.$refs.tournamentDialog.isParticipating=n),t.$refs.tournamentDialog.show(t);case 5:case"end":return r.stop()}}),r)})))()},GetTournaments:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"tournaments/tournamentsforhome?uid="+e.$store.state.authUser.id);case 3:r=t.sent,r.isSuccess?e.tournaments=r.result:e.$snotify.error("Unable to get teams..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},xe=be,we=r("62ad"),ye=r("a523"),ke=r("0fd9"),Ve=Object(u["a"])(xe,se,oe,!1,null,null,null),Te=Ve.exports;m()(Ve,{VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:we["a"],VContainer:ye["a"],VIcon:h["a"],VRow:ke["a"]});var _e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticStyle:{"margin-top":"30px"}},[r("v-card",{staticStyle:{"padding-left":"30px","margin-bottom":"10px"},attrs:{tile:""}},[r("h1",{staticStyle:{color:"#01002a"}},[e._v(" Administration ")])]),r("v-card",{attrs:{tile:"",height:"55px",flat:""}},[r("v-bottom-navigation",{attrs:{value:!0,color:"#01002a",absolute:""},model:{value:e.bottomNav,callback:function(t){e.bottomNav=t},expression:"bottomNav"}},[r("v-btn",{attrs:{value:"Users"}},[r("span",[e._v("Users")]),r("v-icon",[e._v("mdi-account")])],1),r("v-btn",{attrs:{value:"Teams"}},[r("span",[e._v("Teams")]),r("v-icon",[e._v("mdi-account-multiple")])],1)],1)],1),r(e.bottomNav,{tag:"component"})],1)},$e=[],Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"teams"},[r("v-layout",{staticStyle:{margin:"20px"}},[r("v-flex",{attrs:{xs12:""}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"text-xs-center",attrs:{outlined:"",type:"info"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"#01002a"}})],1),[r("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"sort-by":"username"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("USERS")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.UpdateTeam(a)}}},[e._v(" mdi-cancel ")])]}}],null,!0)})]],2)],1)],1)},Ce=[],Re={metaInfo:{title:"Administation - users"},data:function(){return{users:[],loading:!1,headers:[{text:"ID",value:"id"},{text:"Username",value:"username"},{text:"Email",value:"email"},{text:"Actions",value:"actions",sortable:!1}]}},mounted:function(){this.GetUsers()},methods:{GetUsers:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"users/",null,e.$store.getters.getAxiosHeader);case 3:r=t.sent,r.isSuccess?e.users=r.result:e.$snotify.error("Unable to get users..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},Ne=Re,Ue=r("8fea"),De=r("0e8f"),Pe=r("a722"),Ie=Object(u["a"])(Ne,Se,Ce,!1,null,null,null),Oe=Ie.exports;m()(Ie,{VAlert:O["a"],VDataTable:Ue["a"],VDivider:f["a"],VFlex:De["a"],VIcon:h["a"],VLayout:Pe["a"],VProgressCircular:E["a"],VToolbar:B["a"],VToolbarTitle:H["b"]});var Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"teams"},[r("TeamDialog",{ref:"teamDialog"}),r("DeleteModal",{ref:"deleteTeam",attrs:{action:e.DeleteTeam}}),r("v-layout",{staticStyle:{margin:"20px"}},[r("v-flex",{attrs:{xs12:""}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"text-xs-center",attrs:{outlined:"",type:"info"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"#01002a"}})],1),[r("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{headers:e.headers,items:e.teams,"sort-by":"name"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("TEAMS")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),r("v-btn",{staticClass:"mb-2",attrs:{outlined:"",color:"#01002a",tile:""},on:{click:function(t){return t.stopPropagation(),e.CreateTeam(t)}}},[e._v(" New Item ")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.UpdateTeam(a)}}},[e._v(" mdi-pencil ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.OpenDeleteModal(a)}}},[e._v(" mdi-delete ")])]}}],null,!0)})]],2)],1)],1)},je=[],Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.SaveTeam(t)}],"click:outside":e.hide},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[r("v-toolbar-title",[e._v(e._s(e.title))]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{padding:"10px"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Name",dense:"",outlined:"",clearable:"","data-vv-name":"Name","error-messages":e.errors.collect("Name")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{dismissible:"",outlined:"",type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" An error occured... Please try later! ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-spacer"),r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.SaveTeam}},[e._v(" Save "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},qe=[],Ee={data:function(){return{isVisible:!1,parent:void 0,title:"",item:[],isUpdate:!1,loading:!1,error:!1,id:null,name:"",leader:""}},mounted:function(){},methods:{show:function(e,t,r,a){this.parent=e,this.title=t,this.item=r,this.isUpdate=a,a&&(this.name=r.name,this.leader=r.leader),this.isVisible=!0},hide:function(){this.error=!1,this.$refs.form.reset(),this.isVisible=!1},SaveTeam:function(){this.isUpdate?this.UpdateTeam():this.CreateTeam()},CreateTeam:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r){t.next=11;break}return e.loading=!0,a={name:e.name,leader:e.$store.state.authUser.name},t.next=8,D.Request("post",e.$store.state.apiUrl+"teams/",a,e.$store.getters.getAxiosHeader);case 8:n=t.sent,n.isSuccess?(e.$refs.form.reset(),e.$snotify.success(a.name+" added successfuly!"),e.isVisible=!1,e.parent.GetTeams()):(e.$snotify.error("Unable to save this team...\nPlease try later..."),e.error=!0),e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},UpdateTeam:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r){t.next=12;break}return e.loading=!0,e.item.name=e.name,e.item.leader=e.$store.state.authUser.name,t.next=9,D.Request("put",e.$store.state.apiUrl+"teams/"+e.item.id+"/",e.item,e.$store.getters.getAxiosHeader);case 9:a=t.sent,a.isSuccess?(e.$refs.form.reset(),e.$snotify.success(e.item.name+" updated successfuly!"),e.isVisible=!1,e.parent.GetTeams()):(e.$snotify.error("Unable to update this formation...\nPlease try later..."),e.error=!0),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()}}},Me=Ee,Ge=Object(u["a"])(Me,Le,qe,!1,null,null,null),Be=Ge.exports;m()(Ge,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:L["a"],VForm:q["a"],VIcon:h["a"],VProgressCircular:E["a"],VSpacer:M["a"],VTextField:G["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[r("v-toolbar-title",[e._v("Delete "+e._s(e.item.name))]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[e._v(' You realy want to delete " '),r("span",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[e._v(e._s(e.item.name))]),e._v('" ? ')]),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-spacer"),r("v-btn",{attrs:{tile:"",color:"error"},on:{click:e.hide}},[e._v(" Cancel "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-close ")])],1),r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.yes}},[e._v(" Delete "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-delete ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},Fe=[],ze={data:function(){return{title:"",message:"An error occured... Please try later",loading:!1,isVisible:!1,item:{name:""},error:!1}},props:{action:{type:Function,required:!0}},methods:{show:function(e){this.isVisible=!0,this.item=e},hide:function(){this.loading=!1,this.error=!1,this.isVisible=!1},yes:function(){this.loading=!0,this.action(this.item)}}},Je=ze,Ye=Object(u["a"])(Je,He,Fe,!1,null,null,null),We=Ye.exports;m()(Ye,{VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:L["a"],VIcon:h["a"],VProgressCircular:E["a"],VSpacer:M["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var Ke={components:{TeamDialog:Be,DeleteModal:We},metaInfo:{title:"Administation - teams"},data:function(){return{teams:[],loading:!1,headers:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Leader ID",value:"leader"},{text:"Actions",value:"actions",sortable:!1}]}},mounted:function(){this.GetTeams()},methods:{CreateTeam:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.teamDialog.show(e,"Add a new team",null,!1);case 1:case"end":return t.stop()}}),t)})))()},UpdateTeam:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$refs.teamDialog.show(t,"Update team",e,!0);case 1:case"end":return r.stop()}}),r)})))()},GetTeams:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"teams/");case 3:r=t.sent,r.isSuccess?e.teams=r.result:e.$snotify.error("Unable to get teams..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},OpenDeleteModal:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$refs.deleteTeam.show(e);case 1:case"end":return r.stop()}}),r)})))()},DeleteTeam:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,D.Request("delete",t.$store.state.apiUrl+"teams/"+e.id+"/",null,t.$store.getters.getAxiosHeader);case 2:a=r.sent,a.isSuccess?(t.$snotify.success("team "+e.name+" deleted successfuly"),t.$refs.deleteTeam.hide(),t.GetTeams()):(t.$snotify.error("Unable to delete this team..."),t.$refs.deleteTeam.loading=!1,t.$refs.deleteTeam.hide());case 4:case"end":return r.stop()}}),r)})))()}}},Qe=Ke,Xe=Object(u["a"])(Qe,Ae,je,!1,null,null,null),Ze=Xe.exports;m()(Xe,{VAlert:O["a"],VBtn:p["a"],VDataTable:Ue["a"],VDivider:f["a"],VFlex:De["a"],VIcon:h["a"],VLayout:Pe["a"],VProgressCircular:E["a"],VSpacer:M["a"],VToolbar:B["a"],VToolbarTitle:H["b"]});var et={components:{Users:Oe,Teams:Ze},data:function(){return{bottomNav:"Users"}}},tt=et,rt=r("b81c"),at=Object(u["a"])(tt,_e,$e,!1,null,null,null),nt=at.exports;m()(at,{VBottomNavigation:rt["a"],VBtn:p["a"],VCard:A["a"],VContainer:ye["a"],VIcon:h["a"]});var it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"margin-top":"30px"}},[a("TeamDialog",{ref:"teamDialog"}),a("RecruitDialog",{ref:"recruitDialog"}),a("v-row",[a("v-slide-group",{staticStyle:{"margin-left":"10px"},attrs:{multiple:"","show-arrows":"",xs:"12"}},[a("v-slide-item",[a("v-btn",{staticClass:"mx-2",attrs:{color:"#01002a",outlined:"",tile:"",large:""},on:{click:e.CreateTeam}},[e._v(" + Create team ")])],1),e._l(e.teams,(function(t){return a("v-slide-item",{key:t.name},[a("v-btn",{staticClass:"mx-2",attrs:{tile:"",dark:"",large:""},on:{click:function(r){return e.SelectTeam(t)}}},[e._v(" "+e._s(t.name)+" ")])],1)}))],2)],1),a("v-row",[a("v-divider")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.selectedTeam,expression:"!selectedTeam"}],staticStyle:{"margin-top":"30px"}},[a("v-alert",{attrs:{outlined:"",type:"info"}},[e._v(" For now, you are not part of any team ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedTeam,expression:"selectedTeam"}],staticStyle:{"margin-top":"30px"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.selectedTeam,expression:"selectedTeam"}],staticStyle:{"margin-bottom":"30px"},attrs:{tile:""}},[a("v-row",{directives:[{name:"show",rawName:"v-show",value:e.selectedTeam,expression:"selectedTeam"}],staticStyle:{margin:"0","padding-left":"16px","padding-right":"16px"},attrs:{align:"center"}},[a("img",{attrs:{width:"80px",height:"auto",src:r("cf05"),alt:"logo"}}),a("h1",{staticClass:"text-xs-left",staticStyle:{color:"#01002a","margin-left":"10px"}},[e._v(" "+e._s(this.selectedTeam.name)+" ")]),a("v-spacer"),e.selectedTeam.leader==e.$store.state.authUser.name?a("v-btn",{attrs:{tile:"",dark:"",large:""},on:{click:e.Recruit}},[e._v(" Recruit a new member ")]):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",md:"4"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{attrs:{color:"#01002a"}},[e._v("Awards")]),a("v-list",e._l(e.items,(function(t){return a("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm-left",domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(r){e.$set(t,"active",r)},expression:"item.active"}},e._l(t.items,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm-left",domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})),1)],1)],1),a("v-col",{attrs:{xs:"12",md:"8"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{attrs:{color:"#01002a"}},[e._v("Members")]),a("v-list",{attrs:{"three-line":""}},[e._l(e.members,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-avatar",[t.username==e.selectedTeam.leader?a("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[e._v(" mdi-account-star ")]):a("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[e._v(" mdi-account ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm-left",domProps:{innerHTML:e._s(t.username)}}),a("v-list-item-subtitle",{staticClass:"text-sm-left",domProps:{innerHTML:e._s(t.email)}})],1),e.selectedTeam.leader==e.$store.state.authUser.name&&e.selectedTeam.leader!=t.username?a("v-btn",{attrs:{tile:"",color:"#01002a",outlined:""},on:{click:function(r){return e.DeleteTeamMember(e.selectedTeam,t)}}},[e._v("Exclude")]):e._e()],1)}))],2)],1)],1)],1)],1)],1)},st=[],ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"800px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)},"click:outside":e.hide},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[r("v-toolbar-title",[e._v(" Recruit a new member ")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[r("v-layout",{staticStyle:{margin:"20px"}},[r("v-flex",{attrs:{xs12:""}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"text-xs-center",attrs:{outlined:"",type:"info"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"#01002a"}})],1),[r("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"sort-by":"username"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("USERS")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.Recruit(a)}}},[e._v(" mdi-account-plus ")])]}}],null,!0)})]],2)],1)],1)],1)],1)},lt=[],ct=(r("159b"),{data:function(){return{isVisible:!1,loading:!1,error:!1,team:0,teamMembers:[],users:[],headers:[{text:"Username",value:"username"},{text:"Email",value:"email"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{show:function(){this.isVisible=!0,this.GetUsers()},hide:function(){this.error=!1,this.isVisible=!1,this.teamMembers=[],this.users=[]},GetUsers:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"users/",null,e.$store.getters.getAxiosHeader);case 3:r=t.sent,r.isSuccess?r.result.forEach((function(t){e.teamMembers.some((function(e){return e.username===t.username}))||e.users.push(t)})):e.$snotify.error("Unable to get users..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},Recruit:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={message:"You were invited to join "+t.team.name+" team!",seen:!1,notificationType:"INVITATION",user:e.id,team:t.team.id},r.next=3,D.Request("post",t.$store.state.apiUrl+"notifications/",a,t.$store.getters.getAxiosHeader);case 3:n=r.sent,n.isSuccess?t.$snotify.success("Request sent"):t.$snotify.error("Unable to add user...");case 5:case"end":return r.stop()}}),r)})))()}}}),ut=ct,dt=Object(u["a"])(ut,ot,lt,!1,null,null,null),mt=dt.exports;m()(dt,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardText:j["b"],VCardTitle:j["c"],VDataTable:Ue["a"],VDialog:L["a"],VDivider:f["a"],VFlex:De["a"],VIcon:h["a"],VLayout:Pe["a"],VProgressCircular:E["a"],VSpacer:M["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var vt={components:{RecruitDialog:mt,TeamDialog:Be},metaInfo:{title:"Team"},data:function(){return{teams:[],members:[],selectedTeam:!1,items:[{action:"mdi-gamepad-variant",items:[{title:"1st - ESL One 2018"},{title:"1st - ESL One 2019"},{title:"2nd - ESL One 2020"}],title:"CS : GO"},{action:"mdi-gamepad-variant",items:[{title:"3rd - LCS"}],title:"LoL"}]}},mounted:function(){this.GetTeams()},methods:{CreateTeam:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.teamDialog.show(e,"Add a new team",null,!1);case 1:case"end":return t.stop()}}),t)})))()},Recruit:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.recruitDialog.show(),e.$refs.recruitDialog.team=e.selectedTeam,e.$refs.recruitDialog.teamMembers=e.members;case 3:case"end":return t.stop()}}),t)})))()},GetTeams:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"teams/"+e.$store.state.authUser.id+"/getteamsbymember/",null,e.$store.getters.getAxiosHeader);case 3:r=t.sent,r.isSuccess?e.teams=r.result:e.$snotify.error("Unable to get teams..."),e.teams.length>0?e.SelectTeam(e.teams[0]):e.selectedTeam=!1,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},SelectTeam:function(e){this.GetTeamMembers(e),this.selectedTeam=e},GetTeamMembers:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,D.Request("get",t.$store.state.apiUrl+"users/"+e.id+"/getteammembers/",null,t.$store.getters.getAxiosHeader);case 3:a=r.sent,a.isSuccess?t.members=a.result:t.$snotify.error("Unable to get teams..."),t.loading=!1;case 6:case"end":return r.stop()}}),r)})))()},DeleteTeamMember:function(e,t){var r=this;return Object(S["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={userid:t.id},a.next=3,D.Request("post",r.$store.state.apiUrl+"teams/"+e.id+"/removeuser/",n,r.$store.getters.getAxiosHeader);case 3:i=a.sent,i.isSuccess?(r.GetTeamMembers(e),r.$snotify.success("User removed!")):r.$snotify.error("Unable to remove user...");case 5:case"end":return a.stop()}}),a)})))()}}},pt=vt,ft=r("56b0"),ht=r("7efd"),gt=r("9dbe"),bt=Object(u["a"])(pt,it,st,!1,null,null,null),xt=bt.exports;m()(bt,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardTitle:j["c"],VCol:we["a"],VContainer:ye["a"],VDivider:f["a"],VIcon:h["a"],VList:g["a"],VListGroup:ft["a"],VListItem:b["a"],VListItemAvatar:x["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VRow:ke["a"],VSlideGroup:ht["a"],VSlideItem:gt["a"],VSpacer:M["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-col",{attrs:{xs:"12","offset-sm":"3",sm:"6","offset-md":"4",md:"4"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",[e._v("Sign up")]),r("v-card-text",{on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Register(t)}}},[r("v-form",{ref:"registerForm",staticStyle:{padding:"10px"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Username",dense:"",outlined:"",clearable:"","data-vv-name":"username","error-messages":e.errors.collect("username")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:"Email",dense:"",outlined:"",type:"email",clearable:"","data-vv-name":"email","error-messages":e.errors.collect("email")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{"append-icon":e.showPwd?"mdi-eye":"mdi-eye-off",label:"Password",outlined:"",dense:"",type:e.showPwd?"text":"password",clearable:"","data-vv-name":"password","error-messages":e.errors.collect("password"),hint:"At least 8 characters"},on:{"click:append":function(t){e.showPwd=!e.showPwd}},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{"append-icon":e.showPwd?"mdi-eye":"mdi-eye-off",label:"Confirm your password",outlined:"",dense:"",type:e.showPwd?"text":"password",clearable:"","data-vv-name":"confirm password","error-messages":e.errors.collect("confirm password")},on:{"click:append":function(t){e.showPwd=!e.showPwd}},model:{value:e.confirmpwd,callback:function(t){e.confirmpwd=t},expression:"confirmpwd"}}),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{dismissible:"",outlined:"",type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" An error occured... Please try later! ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-spacer"),r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.Register}},[e._v(" Sign up "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-account-plus ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},yt=[],kt={metaInfo:{title:"Register"},data:function(){return{loading:!1,error:!1,showPwd:!1,id:null,username:"",email:"",pwd:"",confirmpwd:""}},methods:{Register:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r||e.pwd!=e.confirmpwd){t.next=13;break}return e.loading=!0,a={username:e.username,email:e.email,password:e.pwd},t.next=8,D.Request("post",e.$store.state.apiUrl+"users/",a);case 8:n=t.sent,n.isSuccess?(e.$refs.registerForm.reset(),e.$snotify.success(a.username+" registered successfuly!"),e.$router.push({name:"Home"})):(e.$snotify.error(e.errorMessage),e.error=!0),e.loading=!1,t.next=16;break;case 13:e.errorMessage=e.pwd==e.confirmpwd?e.errorMessage:"Passwords doesn't match !",e.$snotify.error(e.errorMessage),e.error=!0;case 16:case"end":return t.stop()}}),t)})))()}}},Vt=kt,Tt=Object(u["a"])(Vt,wt,yt,!1,null,null,null),_t=Tt.exports;m()(Tt,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:we["a"],VForm:q["a"],VIcon:h["a"],VProgressCircular:E["a"],VSpacer:M["a"],VTextField:G["a"]});var $t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticStyle:{"margin-top":"30px"}},[r("v-card",{attrs:{tile:""}},[r("v-row",{staticStyle:{color:"#01002a","margin-left":"16px","margin-right":"16px"},attrs:{align:"center"}},[r("h1",[e._v(e._s(e.tournament.name))]),r("h3",{staticClass:"ml-10"},[e._v(e._s(e.tournament.gameName))])])],1),r("v-card",{staticStyle:{"margin-top":"30px"},attrs:{tile:""}},[r("v-flex",{staticStyle:{overflow:"auto",padding:"30px",margin:"15px"},attrs:{xs12:""}},[r("bracket",{attrs:{rounds:e.rounds},scopedSlots:e._u([{key:"player",fn:function(t){var r=t.player;return[e._v(" "+e._s(r.name)+" ")]}}])})],1)],1)],1)},St=[],Ct=(r("3ca3"),r("ddb0"),r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.recursiveBracket?r("div",{staticClass:"vtb-wrapper"},[r("bracket-node",{attrs:{"bracket-node":e.recursiveBracket,"highlighted-player-id":e.highlightedPlayerId},on:{onSelectedPlayer:e.highlightPlayer,onDeselectedPlayer:e.unhighlightPlayer},scopedSlots:e._u([{key:"player",fn:function(t){var r=t.player;return[e._t("player",null,{player:r})]}},{key:"player-extension-bottom",fn:function(t){var r=t.match;return[e._t("player-extension-bottom",null,{match:r})]}}],null,!0)})],1):e._e()}),Rt=[],Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.playersArePresent?r("div",{staticClass:"vtb-item"},[r("div",{class:e.getBracketNodeClass(e.bracketNode)},[r("game-players",{attrs:{"bracket-node":e.bracketNode,"highlighted-player-id":e.highlightedPlayerId},on:{onSelectedPlayer:e.highlightPlayer,onDeselectedPlayer:e.unhighlightPlayer},scopedSlots:e._u([{key:"player",fn:function(t){var r=t.player;return[e._t("player",null,{player:r})]}},{key:"player-extension-bottom",fn:function(t){var r=t.match;return[e._t("player-extension-bottom",null,{match:r})]}}],null,!0)})],1),e.bracketNode.games[0]||e.bracketNode.games[1]?r("div",{staticClass:"vtb-item-children"},[e.bracketNode.games[0]?r("div",{staticClass:"vtb-item-child"},[r("bracket-node",{attrs:{"bracket-node":e.bracketNode.games[0],"highlighted-player-id":e.highlightedPlayerId},on:{onSelectedPlayer:e.highlightPlayer,onDeselectedPlayer:e.unhighlightPlayer},scopedSlots:e._u([{key:"player",fn:function(t){var r=t.player;return[e._t("player",null,{player:r})]}},{key:"player-extension-bottom",fn:function(t){var r=t.match;return[e._t("player-extension-bottom",null,{match:r})]}}],null,!0)})],1):e._e(),e.bracketNode.games[1]?r("div",{staticClass:"vtb-item-child"},[r("bracket-node",{attrs:{"bracket-node":e.bracketNode.games[1],"highlighted-player-id":e.highlightedPlayerId},on:{onSelectedPlayer:e.highlightPlayer,onDeselectedPlayer:e.unhighlightPlayer},scopedSlots:e._u([{key:"player",fn:function(t){var r=t.player;return[e._t("player",null,{player:r})]}},{key:"player-extension-bottom",fn:function(t){var r=t.match;return[e._t("player-extension-bottom",null,{match:r})]}}],null,!0)})],1):e._e()]):e._e()]):e._e()},Ut=[],Dt=function(){var e=this,t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"vtb-item-players"},[a("MatchResultDialog",{ref:"matchResultDialog"}),a("div",[a("v-card",{attrs:{tile:""}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",{class:["vtb-player","vtb-player1",t.getPlayerClass(t.bracketNode.player1)],on:{mouseover:function(e){return t.highlightPlayer(t.bracketNode.player1.id)},mouseleave:t.unhighlightPlayer}},[t._t("player",null,{player:t.bracketNode.player1})],2),a("p",[t._v("VS")]),a("div",{class:["vtb-player","vtb-player2",t.getPlayerClass(t.bracketNode.player2)],on:{mouseover:function(e){return t.highlightPlayer(t.bracketNode.player2.id)},mouseleave:t.unhighlightPlayer}},[t._t("player",null,{player:t.bracketNode.player2})],2)]),a("v-expansion-panel-content",[a("p",[t._v(" Score : "+t._s(t.bracketNode.match.score1)+" - "+t._s(t.bracketNode.match.score2)+" ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:null!=t.bracketNode.match.referees.find((function(t){return t.id==e.$store.state.authUser.id})),expression:"\n                bracketNode.match.referees.find(\n                  referee => referee.id == this.$store.state.authUser.id\n                ) != null\n              "}],attrs:{tile:"",outlined:"",color:"#01002a"},on:{click:function(e){return t.OpenMatchResultDialog(t.bracketNode)}}},[t._v("Ajouter un résultat")])],1)],1)],1)],1)],1),t._t("player-extension-bottom",null,{match:t.matchProperties})],2)},Pt=[],It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.UpdateMatch(t)}],"click:outside":e.hide},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#01002a"}},[r("v-toolbar-title",[e._v(" Add a result : "+e._s(e.item.player1.name)+" VS "+e._s(e.item.player2.name)+" ")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.hide}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1),r("v-card-title"),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{padding:"10px"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{label:"Score: "+e.item.player1.name,dense:"",outlined:"",clearable:"","data-vv-name":"result","error-messages":e.errors.collect("result")},model:{value:e.item.match.score1,callback:function(t){e.$set(e.item.match,"score1",t)},expression:"item.match.score1"}}),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{label:"Score: "+e.item.player2.name,dense:"",outlined:"",clearable:"","data-vv-name":"result","error-messages":e.errors.collect("result")},model:{value:e.item.match.score2,callback:function(t){e.$set(e.item.match,"score2",t)},expression:"item.match.score2"}}),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{dismissible:"",outlined:"",type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" An error occured... Please try later! ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[r("v-spacer"),r("v-btn",{attrs:{tile:"",color:"success"},on:{click:e.UpdateMatch}},[e._v(" Save "),r("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1)],1),r("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[r("v-spacer"),r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},Ot=[],At=(r("466d"),r("ac1f"),{data:function(){return{isVisible:!1,loading:!1,error:!1,item:{player1:{name:""},player2:{name:""},match:{score1:0,score2:0}}}},methods:{show:function(e){this.isVisible=!0,this.item=e},hide:function(){this.error=!1,this.$refs.form.reset(),this.isVisible=!1},UpdateMatch:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(r=t.sent,!r){t.next=10;break}return e.loading=!0,t.next=7,D.Request("put",e.$store.state.apiUrl+"matchs/"+e.item.match.id+"/updatematchscores/",e.item.match,e.$store.getters.getAxiosHeader);case 7:a=t.sent,a.isSuccess?(e.$refs.form.reset(),e.$snotify.success("Scores updated successfuly!"),e.$store.commit("setUpdateTournamentBracket"),e.isVisible=!1):(e.$snotify.error("Unable to update this match...\nPlease try later..."),e.error=!0),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()}}}),jt=At,Lt=Object(u["a"])(jt,It,Ot,!1,null,null,null),qt=Lt.exports;m()(Lt,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:L["a"],VForm:q["a"],VIcon:h["a"],VProgressCircular:E["a"],VSpacer:M["a"],VTextField:G["a"],VToolbar:B["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var Et={name:"game-players",props:["bracketNode","highlightedPlayerId"],components:{MatchResultDialog:qt},computed:{matchProperties:function(){return Object.assign({},this.bracketNode,{games:void 0,hasParent:void 0})}},methods:{getPlayerClass:function(e){if(null===e.winner||void 0===e.winner)return"";var t=e.winner?"winner":"defeated";return this.highlightedPlayerId===e.id&&(t+=" highlight"),t},highlightPlayer:function(e){this.$emit("onSelectedPlayer",e)},unhighlightPlayer:function(){this.$emit("onDeselectedPlayer")},OpenMatchResultDialog:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$refs.matchResultDialog.show(e);case 1:case"end":return r.stop()}}),r)})))()}}},Mt=Et,Gt=r("cd55"),Bt=r("49e2"),Ht=r("c865"),Ft=r("0393b"),zt=Object(u["a"])(Mt,Dt,Pt,!1,null,null,null),Jt=zt.exports;m()(zt,{VBtn:p["a"],VCard:A["a"],VExpansionPanel:Gt["a"],VExpansionPanelContent:Bt["a"],VExpansionPanelHeader:Ht["a"],VExpansionPanels:Ft["a"]});var Yt={name:"bracket-node",components:{GamePlayers:Jt},props:["bracketNode","highlightedPlayerId"],computed:{playersArePresent:function(){return this.bracketNode.player1&&this.bracketNode.player1}},methods:{getBracketNodeClass:function(e){return e.games[0]||e.games[1]?"vtb-item-parent":e.hasParent?"vtb-item-child":""},getPlayerClass:function(e){if(null===e.winner||void 0===e.winner)return"";var t=e.winner?"winner":"defeated";return this.highlightedPlayerId===e.id&&(t+=" highlight"),t},highlightPlayer:function(e){this.$emit("onSelectedPlayer",e)},unhighlightPlayer:function(){this.$emit("onDeselectedPlayer")}}},Wt=Yt,Kt=(r("0393"),Object(u["a"])(Wt,Nt,Ut,!1,null,null,null)),Qt=Kt.exports,Xt=r("3831"),Zt=r.n(Xt),er={name:"bracket",components:{"bracket-node":Qt},props:["rounds","flatTree"],data:function(){return{highlightedPlayerId:null}},computed:{recursiveBracket:function(){return this.flatTree?Zt.a.transformFlatTree(this.flatTree):Zt.a.transform(this.rounds)}},methods:{highlightPlayer:function(e){this.highlightedPlayerId=e},unhighlightPlayer:function(){this.highlightedPlayerId=null}}},tr=er,rr=(r("aff9"),Object(u["a"])(tr,Ct,Rt,!1,null,null,null)),ar=rr.exports,nr=(r("7db0"),r("90d7"),{CreateGame:function(e,t,r,a,n,i,s){return{match:s,player1:{id:e,name:r,winner:n},player2:{id:t,name:a,winner:i}}},GetTeam:function(e,t){return e.find((function(e){return e.id==t}))},CreateRounds:function(e,t,r){var a=this;e=this.SortMatchesArray(e);for(var n=[],i=Math.ceil(t.length/2),s=Math.ceil(Math.log2(i)+1),o=function(i){var s=[];a.GetRoundMatches(e,i).forEach((function(e){var n={id:0,name:"tbd"};e.referees=r;var i=null!=e.team1?a.GetTeam(t,e.team1):n,o=null!=e.team2?a.GetTeam(t,e.team2):n;s.push(a.CreateGame(i.id,o.id,i.name,o.name,null==e.score1||e.score1>=e.score2,null==e.score2||e.score2>=e.score1,e))})),n.push({games:s})},l=s;l>0;--l)o(l);return n},GetRoundMatches:function(e,t){var r=e.filter((function(e){return e.roundNb==t}));return r},CreateBaseMatches:function(e,t){for(var r=Math.ceil(e.length/2),a=Math.ceil(Math.log2(r)+1),n=1,i=[],s=0,o=e.length-1;o>=0;o-=2){var l=e[o],c={id:null,name:"tbd"};o-1>=0&&(c=e[o-1]),i.push({team1:l.id,team2:c.id,tournament:parseInt(t),score1:null,score2:null,idInTournament:n,roundNb:a,idParent:null}),++s,++n}for(var u=a-2;u>=0;--u){var d=s;s=0;for(var m=Math.ceil(d/2)-1;m>=0;--m)i.push({team1:null,team2:null,tournament:parseInt(t),score1:null,score2:null,idInTournament:n,roundNb:u+1,idParent:null}),++n,++s}return this.SetMatchesCorrectIdAndParentId(i,a)},SetMatchesCorrectIdAndParentId:function(e,t){for(var r=e.length,a=1;a<=t;++a)for(var n=this.GetRoundMatches(e,a).reverse(),i=this.GetRoundMatches(e,a-1).reverse(),s=0;s<n.length;++s){var o=n[s];o.idInTournament=r-o.idInTournament+1,a>1&&(o.idParent=i[parseInt(s/2)].idInTournament)}return e},SortMatchesArray:function(e){return e.sort((function(e,t){return e.idInTournament>t.idInTournament?1:e.idInTournament<t.idInTournament?-1:0})),e}}),ir={props:["tournamentId"],metaInfo:{title:"Tournament"},components:{Bracket:ar},watch:{"$store.state.updateTournamentBracket":function(){this.GetTeamsByTournament()}},mounted:function(){this.GetTournament(),this.GetTournamentReferees()},data:function(){return{referees:void 0,teams:[],matches:[],rounds:[],tournament:{name:"",gameName:""}}},methods:{GetTournament:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.Request("get",e.$store.state.apiUrl+"tournaments/"+e.tournamentId+"/");case 2:r=t.sent,r.isSuccess?e.tournament=r.result:e.$snotify.error("Unable to get tournament informations ...");case 4:case"end":return t.stop()}}),t)})))()},GetTournamentReferees:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.Request("get",e.$store.state.apiUrl+"users/"+e.tournamentId+"/gettournamentreferees");case 2:r=t.sent,r.isSuccess?(e.referees=r.result,e.GetTeamsByTournament()):e.$snotify.error("Unable to get referees for this tournament ...");case 4:case"end":return t.stop()}}),t)})))()},GetMatchesbyTournament:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"matchs/getmatchsbytournament?tid="+e.tournamentId);case 3:if(r=t.sent,a=!1,!r.isSuccess){t.next=16;break}if(e.matches=r.result,0!==e.matches.length){t.next=13;break}return n=nr.CreateBaseMatches(e.teams,e.tournamentId),t.next=11,e.CreateBaseMatches(n);case 11:i=t.sent,i?(a=!0,e.matches=n):(e.$snotify.error("Unable to this init tournament..."),e.$router.push("/"));case 13:a?e.GetTeamsByTournament():e.rounds=nr.CreateRounds(e.matches,e.teams,e.referees),t.next=17;break;case 16:e.$snotify.error("Unable to get matches...");case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},GetTeamsByTournament:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.Request("get",e.$store.state.apiUrl+"teams/getteamsbytournament?tid="+e.tournamentId);case 3:r=t.sent,r.isSuccess?(e.teams=r.result,e.teams.length>=4?e.GetMatchesbyTournament():(e.$snotify.error(e.teams.length+" team(s) participate in "+e.tournament.name+" tournament. That's not enough to init the tournament."),e.$router.push("/"))):e.$snotify.error("Unable to get matches..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},IsDeadLineReached:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.Request("get",e.$store.state.apiUrl+"tournaments/"+e.tournamentId);case 2:if(r=t.sent,!r.isSuccess){t.next=10;break}return a=r.result,n=new Date(a.deadLineDate),i=new Date,t.abrupt("return",n.getTime()<=i.getTime());case 10:return e.$snotify.error("Unable to get tournament information ..."),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})))()},CreateBaseMatches:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.IsDeadLineReached();case 2:if(a=r.sent,!a){r.next=9;break}return n=!0,r.next=7,Promise.all(e.map(function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.Request("post",t.$store.state.apiUrl+"matchs/",r,t.$store.getters.getAxiosHeader);case 2:a=e.sent,n=n&&a.isSuccess;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return n?t.$snotify.success("Tournament matches created successfully !"):t.$snotify.error("Unable to create tournament matches..\nPlease try later..."),r.abrupt("return",n);case 9:return r.abrupt("return",!1);case 10:case"end":return r.stop()}}),r)})))()}}},sr=ir,or=Object(u["a"])(sr,$t,St,!1,null,null,null),lr=or.exports;m()(or,{VCard:A["a"],VContainer:ye["a"],VFlex:De["a"],VRow:ke["a"]});var cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticStyle:{"margin-top":"30px"}},[r("v-card",{staticStyle:{"padding-left":"30px","margin-bottom":"30px"},attrs:{tile:""}},[r("h1",{staticStyle:{color:"#01002a"}},[e._v(" Notifications ")])]),r("v-card",{staticStyle:{padding:"30px"},attrs:{tile:""}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"text-xs-center",attrs:{outlined:"",type:"info"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"#01002a"}})],1),r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.notifications.length<=0,expression:"notifications.length <= 0"}],attrs:{outlined:"",type:"info"}},[e._v(" You have no notification yet... ")]),e._l(e.notifications,(function(t){return r("v-list-item",{key:t.id},[r("v-list-item-avatar",{on:{click:function(r){return e.UpdateNotification(t)}}},[t.seen?e._e():r("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[e._v(" mdi-bell ")])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-sm-left",domProps:{textContent:e._s(e.notifiType[t.notificationType])}}),r("v-list-item-subtitle",{staticClass:"text-sm-left",domProps:{textContent:e._s(t.message)}},[e._v('" >')])],1),"INVITATION"==t.notificationType?r("v-list-item-action",[r("v-btn",{staticClass:"ma-2",attrs:{color:"success",tile:"",outlined:""},on:{click:function(r){return e.AcceptTeamInvitation(t)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",[e._v("Loading...")])]},proxy:!0}],null,!0)},[e._v(" Accept ")])],1):e._e(),"INVITATION"==t.notificationType?r("v-list-item-action",[r("v-btn",{staticClass:"ma-2",attrs:{color:"error",tile:"",outlined:""},on:{click:function(r){return e.RejectTeamInvitation(t)}},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",[e._v("Loading...")])]},proxy:!0}],null,!0)},[e._v(" Decline ")])],1):e._e()],1)}))],2)],1)},ur=[],dr={components:{},metaInfo:{title:"Notifications"},data:function(){return{notifications:[],loading:!1,headers:[{text:"ID",value:"id"},{text:"User",value:"user"},{text:"Seen",value:"seen"},{text:"Message",value:"message",sortable:!1}],notifiType:{MESSAGE:"Information",INVITATION:"Invitation"}}},mounted:function(){this.GetNotifications()},methods:{GetNotifications:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,D.GetNotifications(e.$store.state.apiUrl+"notifications?uid="+e.$store.state.authUser.id,e.$store.getters.getAxiosHeader);case 3:r=t.sent,r.isSuccess?(e.notifications=r.result,e.SortNotificationsByCreationDate(),e.$store.commit("updateNotif",r.counter)):e.$snotify.error("Unable to get notifications ..."),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},UpdateNotification:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("INVITATION"==e.notificationType){r.next=6;break}return e.seen=!0,r.next=4,D.Request("put",t.$store.state.apiUrl+"notifications/"+e.id+"/",e,t.$store.getters.getAxiosHeader);case 4:a=r.sent,a.isSuccess?t.$store.commit("updateNotif",t.$store.state.nbrNotif-1):t.$snotify.error("Unable to update notifications ...");case 6:case"end":return r.stop()}}),r)})))()},AcceptTeamInvitation:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={userid:t.$store.state.authUser.id,notificationid:e.id},r.next=3,D.Request("post",t.$store.state.apiUrl+"teams/"+e.team+"/adduser/",a,t.$store.getters.getAxiosHeader);case 3:n=r.sent,n.isSuccess?(t.GetNotifications(),t.$snotify.success("User added!")):t.$snotify.error("Unable to get teams...");case 5:case"end":return r.stop()}}),r)})))()},RejectTeamInvitation:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.notificationType="MESSAGE",e.seen=!0,e.message="[Declined] "+e.message,r.next=5,D.Request("put",t.$store.state.apiUrl+"notifications/"+e.id+"/",e,t.$store.getters.getAxiosHeader);case 5:a=r.sent,a.isSuccess?(t.GetNotifications(),t.$snotify.success("You refused to join the team")):t.$snotify.error("Cannot decline team invitation...");case 7:case"end":return r.stop()}}),r)})))()},SortNotificationsByCreationDate:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.notifications.sort((function(e,t){var r=new Date(e.creationDate).getTime(),a=new Date(t.creationDate).getTime();return console.log(r<a),r<a?1:r>a?-1:0}));case 1:case"end":return t.stop()}}),t)})))()}}},mr=dr,vr=r("1800"),pr=Object(u["a"])(mr,cr,ur,!1,null,null,null),fr=pr.exports;m()(pr,{VAlert:O["a"],VBtn:p["a"],VCard:A["a"],VContainer:ye["a"],VIcon:h["a"],VListItem:b["a"],VListItemAction:vr["a"],VListItemAvatar:x["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VProgressCircular:E["a"]});var hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{xs:"12","offset-sm":"3",sm:"6","offset-md":"4",md:"4"}},[a("v-card",{staticClass:"text-left",attrs:{tile:""}},[a("v-card-title",[e._v("About")]),a("v-card-text",[a("img",{staticStyle:{"margin-top":"10px"},attrs:{height:"50px",width:"166px",src:r("deb6")}}),a("p",[e._v(' This project has been realized as part of the school "Haute Ecole Arc (HE-Arc) BEJUNE" during the course "Développement web". ')]),a("p",[e._v("Contributors :")]),a("ul",[a("li",[e._v("Alan Chambaz")]),a("li",[e._v("Colin Pelletier")]),a("li",[e._v("Sébastien Roso")])])])],1)],1)},gr=[],br={metaInfo:{title:"About"}},xr=br,wr=Object(u["a"])(xr,hr,gr,!1,null,null,null),yr=wr.exports;m()(wr,{VCard:A["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:we["a"]}),a["a"].use(ie["a"]);var kr=[{path:"/",name:"Home",component:Te},{path:"/administration",name:"Administration",component:nt},{path:"/team",name:"Team",component:xt},{path:"/register",name:"Register",component:_t},{path:"/tournament/:tournamentId",name:"Tournament",component:lr,props:!0},{path:"/notifications",name:"Notifications",component:fr},{path:"/about",name:"About",component:yr}],Vr=new ie["a"]({routes:kr}),Tr=Vr,_r=r("2f62");a["a"].use(_r["a"]);var $r=new _r["a"].Store({state:{authUser:JSON.parse(localStorage.getItem("wtm-authuser"))||{id:null,email:null,name:null,team:null,isAuthenticated:!1},token:localStorage.getItem("wtm-token"),nbrNotif:0,apiUrl:"http://localhost:8000/api/",navigationDrawer:!1,updateTournamentBracket:!0},mutations:{setAuthUser:function(e,t){var r=t.authUserId,a=t.authUserEmail,n=t.authUserName,i=t.isAuthenticated;e.authUser={id:r,email:a,name:n,team:null,isAuthenticated:i},localStorage.setItem("wtm-authuser",JSON.stringify(e.authUser))},setToken:function(e,t){localStorage.setItem("wtm-token",t),e.token=t},logout:function(e){localStorage.removeItem("wtm-token"),localStorage.removeItem("wtm-authuser"),e.token=null,e.authUser={id:null,email:null,name:null,team:null,isAuthenticated:!1}},updateNotif:function(e,t){e.nbrNotif=t},setNavigationDrawer:function(e){e.navigationDrawer=!e.navigationDrawer},setUpdateTournamentBracket:function(e){e.updateTournamentBracket=!e.updateTournamentBracket}},actions:{},modules:{},getters:{getAxiosHeader:function(e){return{Authorization:"Token ".concat(e.token)}}}}),Sr=r("f309");a["a"].use(Sr["a"]);var Cr=new Sr["a"]({}),Rr=r("7bb1"),Nr=r("58ca"),Ur=r("f213");r("26e8");a["a"].config.productionTip=!1,a["a"].use(Ur["a"]),a["a"].use(Rr["a"]),a["a"].use(Nr["a"],{refreshOnceOnNavigation:!0}),new a["a"]({router:Tr,store:$r,vuetify:Cr,render:function(e){return e(ne)}}).$mount("#app")},"85ec":function(e,t,r){},"9e4d":function(e,t,r){},aff9:function(e,t,r){"use strict";r("4d32")},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"},deb6:function(e,t,r){e.exports=r.p+"img/arc-logo.cf26e6af.png"}});
//# sourceMappingURL=app.448bd880.js.map